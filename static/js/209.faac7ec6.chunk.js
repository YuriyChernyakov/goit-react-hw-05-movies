"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[209],{209:function(e,t,a){a.r(t);var s=a(413),n=a(861),r=a(439),i=a(757),l=a.n(i),o=a(134),c=a(791),u=a(965),m=a(87),h=a(323),d=a(689),p=a(85),f=a(230),v=a(184);t.default=function(){var e,t=(0,c.useState)(""),a=(0,r.Z)(t,2),i=a[0],g=a[1],x=(0,c.useState)([]),Z=(0,r.Z)(x,2),b=Z[0],j=Z[1],k=(0,c.useState)(!1),w=(0,r.Z)(k,2),y=w[0],S=w[1],_=(0,c.useState)(!1),N=(0,r.Z)(_,2),M=N[0],H=N[1],C=(0,m.lr)({}),I=(0,r.Z)(C,2),q=I[0],E=I[1],U=null!==(e=q.get("search"))&&void 0!==e?e:"",z=(0,o.cI)(),A=z.register,L=z.handleSubmit,P=z.reset,T=(0,d.TH)();return(0,c.useEffect)((function(){g(U);var e="https://api.themoviedb.org/3/search/movie?api_key=73d1d1a66744e8a71fb191bdd223462e&language=en-US&query=".concat(i,"&page=1&include_adult=false");if(i){var t=function(){var t=(0,n.Z)(l().mark((function t(){var a;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return H(!0),t.prev=1,t.next=4,(0,u.h)(e);case 4:a=t.sent,j(a.results),0===a.total_results&&(0,p.Am)("Sorry,we didn't find anything"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),S(!0);case 12:return t.prev=12,H(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])})));return function(){return t.apply(this,arguments)}}();t()}}),[i,U]),(0,v.jsxs)("div",{children:[(0,v.jsxs)("form",{className:f.Z.formMov,onSubmit:L((function(e){i!==e.name&&(P(),S(!1),j([]),E({search:e.name}),g(e.name))})),children:[(0,v.jsx)("label",{className:f.Z.labelMov,children:"Enter the name of the movie"}),(0,v.jsxs)("div",{children:[(0,v.jsx)("input",(0,s.Z)((0,s.Z)({className:f.Z.inpMov,type:"text"},A("name",{required:!0})),{},{placeholder:"Conan"})),(0,v.jsx)("button",{className:f.Z.buttMov,type:"submit",children:"Search"})]})]}),(0,v.jsx)(p.Ix,{}),M&&(0,v.jsx)(h.Z,{}),y?(0,v.jsx)("h2",{className:f.Z.titleHome,children:"Sorry, something went wrong. Please reload the page and try again"}):(0,v.jsx)("ul",{className:f.Z.filmList,children:b!==[]&&b.map((function(e){var t=e.id,a=e.name,s=e.title,n=e.poster_path,r=e.release_date,i=void 0===r?[]:r;return(0,v.jsx)("li",{className:f.Z.listItemHome,children:(0,v.jsxs)(m.rU,{className:f.Z.linkMovie,to:"".concat(t),state:{from:T},children:[" ",(0,v.jsx)("img",{className:f.Z.imgHome,src:n?"https://image.tmdb.org/t/p/w300"+n:"https://st4.depositphotos.com/14953852/22772/v/600/depositphotos_227725020-stock-illustration-no-image-available-icon-flat.jpg",alt:a,loading:"lazy"}),null!==s&&void 0!==s?s:a," (",""!==i?i.slice(0,4):"unknown year",")"]})},t)}))})]})}}}]);
//# sourceMappingURL=209.faac7ec6.chunk.js.map