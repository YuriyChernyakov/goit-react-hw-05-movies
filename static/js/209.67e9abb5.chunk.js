"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[209],{209:function(e,t,n){n.r(t);var a=n(413),r=n(861),s=n(439),i=n(757),o=n.n(i),c=n(134),l=n(791),u=n(965),h=n(87),d=n(323),p=n(689),m=n(85),f=n(184);t.default=function(){var e,t=(0,l.useState)(""),n=(0,s.Z)(t,2),i=n[0],v=n[1],x=(0,l.useState)([]),g=(0,s.Z)(x,2),j=g[0],b=g[1],k=(0,l.useState)(!1),w=(0,s.Z)(k,2),y=w[0],S=w[1],_=(0,l.useState)(!1),Z=(0,s.Z)(_,2),C=Z[0],q=Z[1],E=(0,h.lr)({}),I=(0,s.Z)(E,2),U=I[0],z=I[1],A=null!==(e=U.get("search"))&&void 0!==e?e:"",H=(0,c.cI)(),P=H.register,T=H.handleSubmit,B=H.reset,D=(0,p.TH)();return(0,l.useEffect)((function(){v(A);var e="https://api.themoviedb.org/3/search/movie?api_key=73d1d1a66744e8a71fb191bdd223462e&language=en-US&query=".concat(i,"&page=1&include_adult=false");if(i){var t=function(){var t=(0,r.Z)(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return q(!0),t.prev=1,t.next=4,(0,u.h)(e);case 4:n=t.sent,b(n.results),0===n.total_results&&(0,m.Am)("Sorry,we didn't find anything"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),S(!0);case 12:return t.prev=12,q(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])})));return function(){return t.apply(this,arguments)}}();t()}}),[i,A]),(0,f.jsxs)("div",{children:[(0,f.jsxs)("form",{onSubmit:T((function(e){i!==e.name&&(B(),S(!1),b([]),z({search:e.name}),v(e.name))})),children:[(0,f.jsx)("label",{children:"Enter the name of the movie"}),(0,f.jsxs)("div",{children:[(0,f.jsx)("input",(0,a.Z)((0,a.Z)({type:"text"},P("name",{required:!0})),{},{placeholder:"Conan"})),(0,f.jsx)("button",{type:"submit",children:"Search"})]})]}),(0,f.jsx)(m.Ix,{}),C&&(0,f.jsx)(d.Z,{}),y?(0,f.jsx)("h2",{children:"Sorry, something went wrong. Please reload the page and try again"}):(0,f.jsx)("ul",{children:j!==[]&&j.map((function(e){var t=e.id,n=e.name,a=e.title,r=e.poster_path,s=e.release_date,i=void 0===s?[]:s;return(0,f.jsx)("li",{children:(0,f.jsxs)(h.rU,{to:"".concat(t),state:{from:D},children:[" ",(0,f.jsx)("img",{src:r?"https://image.tmdb.org/t/p/w300"+r:"https://st4.depositphotos.com/14953852/22772/v/600/depositphotos_227725020-stock-illustration-no-image-available-icon-flat.jpg",alt:n,loading:"lazy"}),null!==a&&void 0!==a?a:n," (",""!==i?i.slice(0,4):"unknown year",")"]})},t)}))})]})}}}]);
//# sourceMappingURL=209.67e9abb5.chunk.js.map